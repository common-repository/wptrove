!function(t){"use strict";t(document).ready((function(){function e(e,o,i,a){"show"==e&&i.find(".wptrove-testimonials-form-overlay").css({opacity:0,display:"block"}).animate({opacity:1},500,(function(){i.find(".wptrove-testimonials-form-overlay-content").css({opacity:0,display:"block"}).animate({opacity:1},500,(function(){a()}))})),"hide"==e&&i.find(".wptrove-testimonials-form-overlay-content").animate({opacity:0},500,(function(){t(this).css({opacity:1,display:"none"}),i.find(".wptrove-testimonials-form-overlay").animate({opacity:0},500,(function(){t(this).css({opacity:1,display:"none"})}))}))}t(".wptrove-testimonials-form-submit__button").on("click",(function(){var o=t(this),i=t(this).closest(".wptrove-testimonials-form"),a=i.find(".wptrove-testimonials-form-message");e("show",0,i,(function(){var s=new FormData;s.append("nonce",wptroveBlockVariables.nonce),o.closest(".wptrove-testimonials-form-content").find(".wptrove-testimonials-form-item").each((function(){var e=t(this).attr("data-wptrove-key");"photo"===e?s.append(e,t(this).find(".wptrove-testimonials-form-item__input--upload")[0].files[0]):s.append(e,t(this).find(".wptrove-testimonials-form-item__input").val())})),a.removeAttr("style"),i.find(".wptrove-testimonials-form-item__message").removeAttr("style"),jQuery.ajax({type:"POST",url:wptroveBlockVariables.api.addTestimonial,data:s,enctype:"multipart/form-data",contentType:!1,processData:!1,beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",wptroveBlockVariables.wpRestNonce)},timeout:1e4,success:function(s){s.result?a.text(wptroveBlockVariables.text.testimonials.success).css({display:"block"}):o.closest(".wptrove-testimonials-form-content").find(".wptrove-testimonials-form-item").each((function(){var e=t(this).attr("data-wptrove-key");"data"in s&&"error"in s.data&&e in s.data.error&&t(this).find(".wptrove-testimonials-form-item__message").css({color:"red"})})),e("hide",0,i,(function(){}))},error:function(t,o,s){a.text(wptroveBlockVariables.text.testimonials.failed).css({display:"block","border-color":"red"}),e("hide",0,i,(function(){}))}})}))})),t(".wptrove-testimonials-display").owlCarousel({items:1,nav:!1,autoplay:!0,autoplayHoverPause:!0}),t(".wptrove-testimonials-two-display").owlCarousel({items:2,nav:!1,autoplay:!0,autoplayHoverPause:!0})}))}(jQuery);